local NovaHub = loadstring(game:HttpGet("https://raw.githubusercontent.com/NovaHubOnTop/Private/refs/heads/main/Library"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = NovaHub:CreateWindow({
    Title = "Nova Hub Paid Version" .. Fluent.Version,
    SubTitle = "by Encrypted",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "NovaHub",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "" }),
    AutoFarm = Window:AddTab({ Title = "Auto Farm", Icon = "settings" })
}

-- Main Tab
Tabs.Main:AddButton({
    Title = "Discord Server",
    Description = "Copy Discord server link",
    Callback = function()
        setclipboard("https://discord.gg/ztGskBVU")
        Window:Dialog({
            Title = "Discord Link Copied",
            Content = "The Discord server link has been copied to your clipboard.",
            Buttons = {
                { Title = "OK", Callback = function() print("User acknowledged the dialog.") end }
            }
        })
    end
})

Tabs.Main:AddParagraph({
    Title = "Local Player",
    Content = ""
})

-- WalkSpeed Input
local WalkSpeedInput = Tabs.Main:AddInput("WalkSpeed", {
    Title = "WalkSpeed",
    Default = "16",
    Placeholder = "Enter WalkSpeed",
    Numeric = true,
    Finished = true,
    Callback = function(Value) print("WalkSpeed input changed:", Value) end
})

WalkSpeedInput:OnChanged(function()
    print("WalkSpeed input updated:", WalkSpeedInput.Value)
end)

Tabs.Main:AddButton({
    Title = "Apply WalkSpeed",
    Description = "Apply the entered WalkSpeed",
    Callback = function()
        local walkSpeedValue = tonumber(WalkSpeedInput.Value)
        if walkSpeedValue then
            game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = walkSpeedValue
            Window:Dialog({
                Title = "WalkSpeed Applied",
                Content = "WalkSpeed has been set to " .. walkSpeedValue,
                Buttons = {
                    { Title = "OK", Callback = function() print("WalkSpeed applied.") end }
                }
            })
        else
            Window:Dialog({
                Title = "Invalid Input",
                Content = "Please enter a valid number for WalkSpeed.",
                Buttons = {
                    { Title = "OK", Callback = function() print("Invalid WalkSpeed input.") end }
                }
            })
        end
    end
})

-- JumpPower Input
local JumpPowerInput = Tabs.Main:AddInput("JumpPower", {
    Title = "JumpPower",
    Default = "50",
    Placeholder = "Enter JumpPower",
    Numeric = true,
    Finished = true,
    Callback = function(Value) print("JumpPower input changed:", Value) end
})

JumpPowerInput:OnChanged(function()
    print("JumpPower input updated:", JumpPowerInput.Value)
end)

Tabs.Main:AddButton({
    Title = "Apply JumpPower",
    Description = "Apply the entered JumpPower",
    Callback = function()
        local jumpPowerValue = tonumber(JumpPowerInput.Value)
        if jumpPowerValue then
            game.Players.LocalPlayer.Character.Humanoid.JumpPower = jumpPowerValue
            Window:Dialog({
                Title = "JumpPower Applied",
                Content = "JumpPower has been set to " .. jumpPowerValue,
                Buttons = {
                    { Title = "OK", Callback = function() print("JumpPower applied.") end }
                }
            })
        else
            Window:Dialog({
                Title = "Invalid Input",
                Content = "Please enter a valid number for JumpPower.",
                Buttons = {
                    { Title = "OK", Callback = function() print("Invalid JumpPower input.") end }
                }
            })
        end
    end
})

-- Auto Farm Tab
Tabs.AutoFarm:AddParagraph({
    Title = "Auto Farming",
    Content = "Automate orb collection and farming actions."
})

_G.SelectCity = "City"
_G.SelectOrb = "Red Orb"
_G.FarmingMode = "Normal"
_G.AutoOrbs = false

-- City Selection
local CityDropdown = Tabs.AutoFarm:AddDropdown("Select City", {
    Title = "Select City",
    Values = {"City", "Snow City", "Magma City", "Jungle City"},
    Multi = false,
    Default = "City",
    Callback = function(Value) _G.SelectCity = Value end
})

-- Orb Selection
local OrbDropdown = Tabs.AutoFarm:AddDropdown("Select Orb", {
    Title = "Select Orb",
    Values = {"Red Orb", "Orange Orb", "Blue Orb", "Yellow Orb", "Gems", "Ethereal Orb"},
    Multi = false,
    Default = "Red Orb",
    Callback = function(Value) _G.SelectOrb = Value end
})

-- Farming Mode Selection
local FarmingModeDropdown = Tabs.AutoFarm:AddDropdown("Select Farming Mode", {
    Title = "Select Farming Mode",
    Values = {"Slow", "Normal", "Fast", "Super Fast"},
    Multi = false,
    Default = "Normal",
    Callback = function(Value) _G.FarmingMode = Value end
})

-- Farming Mode Mapping
local FarmingCounts = {
    ["Slow"] = 50,
    ["Normal"] = 50,
    ["Fast"] = 100,
    ["Super Fast"] = 200
}

-- Start Farming Toggle
local Toggle = Tabs.AutoFarm:AddToggle("Start Farming", { Title = "Start Farming", Default = false })

Toggle:OnChanged(function()
    _G.AutoOrbs = Toggle.Value

    if _G.AutoOrbs then
        spawn(function()
            while _G.AutoOrbs do
                local args = {
                    [1] = "collectOrb",
                    [2] = _G.SelectOrb,
                    [3] = _G.SelectCity
                }

                for i = 1, FarmingCounts[_G.FarmingMode] or 50 do
                    game:GetService("ReplicatedStorage"):WaitForChild("rEvents"):WaitForChild("orbEvent"):FireServer(unpack(args))
                end

                wait(0.25)
            end
        end)
    end
end)
